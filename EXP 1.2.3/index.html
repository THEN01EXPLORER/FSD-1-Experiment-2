<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Interactive SVG Drawing Tool - Create shapes with mouse events, color selection, and undo functionality">
    <title>SVG Drawing Tool</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <div class="logo">
                <svg class="logo-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M12 19l7-7 3 3-7 7-3-3z"></path>
                    <path d="M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"></path>
                    <path d="M2 2l7.586 7.586"></path>
                    <circle cx="11" cy="11" r="2"></circle>
                </svg>
                <h1>SVG Drawing Tool</h1>
            </div>
            <div class="header-actions">
                <button id="clearBtn" class="btn btn-secondary" title="Clear Canvas">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="3 6 5 6 21 6"></polyline>
                        <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                    </svg>
                    Clear
                </button>
                <button id="undoBtn" class="btn btn-primary" title="Undo Last Action (Ctrl+Z)">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <polyline points="1 4 1 10 7 10"></polyline>
                        <path d="M3.51 15a9 9 0 1 0 2.13-9.36L1 10"></path>
                    </svg>
                    Undo
                </button>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Toolbar -->
            <aside class="toolbar">
                <div class="tool-section">
                    <h3 class="section-title">Shapes</h3>
                    <div class="shape-tools">
                        <button class="tool-btn active" data-tool="rectangle" title="Rectangle (R)">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                            </svg>
                        </button>
                        <button class="tool-btn" data-tool="circle" title="Circle (C)">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="10"></circle>
                            </svg>
                        </button>
                        <button class="tool-btn" data-tool="ellipse" title="Ellipse (E)">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <ellipse cx="12" cy="12" rx="10" ry="6"></ellipse>
                            </svg>
                        </button>
                        <button class="tool-btn" data-tool="line" title="Line (L)">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="5" y1="19" x2="19" y2="5"></line>
                            </svg>
                        </button>
                        <button class="tool-btn" data-tool="triangle" title="Triangle (T)">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polygon points="12,3 22,21 2,21"></polygon>
                            </svg>
                        </button>
                        <button class="tool-btn" data-tool="freehand" title="Freehand (F)">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M3 17c3.333-3.333 5-5 5-5s1.667 1.667 5 5 5 5 5 5"></path>
                                <path d="M3 7c3.333 3.333 5 5 5 5s1.667-1.667 5-5 5-5 5-5"></path>
                            </svg>
                        </button>
                    </div>
                </div>

                <div class="tool-section">
                    <h3 class="section-title">Fill Color</h3>
                    <div class="color-picker-container">
                        <input type="color" id="fillColor" value="#6366f1" class="color-input">
                        <div class="color-presets" id="fillPresets">
                            <button class="color-preset" data-color="#6366f1" style="background: #6366f1"></button>
                            <button class="color-preset" data-color="#ec4899" style="background: #ec4899"></button>
                            <button class="color-preset" data-color="#14b8a6" style="background: #14b8a6"></button>
                            <button class="color-preset" data-color="#f59e0b" style="background: #f59e0b"></button>
                            <button class="color-preset" data-color="#ef4444" style="background: #ef4444"></button>
                            <button class="color-preset" data-color="#8b5cf6" style="background: #8b5cf6"></button>
                            <button class="color-preset" data-color="#22c55e" style="background: #22c55e"></button>
                            <button class="color-preset" data-color="#0ea5e9" style="background: #0ea5e9"></button>
                        </div>
                    </div>
                    <div class="fill-toggle">
                        <input type="checkbox" id="fillEnabled" checked>
                        <label for="fillEnabled">Enable Fill</label>
                    </div>
                </div>

                <div class="tool-section">
                    <h3 class="section-title">Stroke Color</h3>
                    <div class="color-picker-container">
                        <input type="color" id="strokeColor" value="#1e1b4b" class="color-input">
                        <div class="color-presets" id="strokePresets">
                            <button class="color-preset" data-color="#1e1b4b" style="background: #1e1b4b"></button>
                            <button class="color-preset" data-color="#ffffff" style="background: #ffffff; border: 1px solid #ccc"></button>
                            <button class="color-preset" data-color="#374151" style="background: #374151"></button>
                            <button class="color-preset" data-color="#dc2626" style="background: #dc2626"></button>
                        </div>
                    </div>
                </div>

                <div class="tool-section">
                    <h3 class="section-title">Stroke Width</h3>
                    <div class="stroke-width-container">
                        <input type="range" id="strokeWidth" min="1" max="20" value="2" class="stroke-slider">
                        <span id="strokeWidthValue" class="stroke-value">2px</span>
                    </div>
                </div>

                <div class="tool-section">
                    <h3 class="section-title">Opacity</h3>
                    <div class="opacity-container">
                        <input type="range" id="opacity" min="0.1" max="1" step="0.1" value="0.8" class="opacity-slider">
                        <span id="opacityValue" class="opacity-value">80%</span>
                    </div>
                </div>
            </aside>

            <!-- Canvas Area -->
            <div class="canvas-container">
                <div class="canvas-wrapper">
                    <svg id="svgCanvas" class="svg-canvas">
                        <!-- Grid pattern for visual guidance -->
                        <defs>
                            <pattern id="grid" width="20" height="20" patternUnits="userSpaceOnUse">
                                <path d="M 20 0 L 0 0 0 20" fill="none" stroke="rgba(99, 102, 241, 0.1)" stroke-width="0.5"/>
                            </pattern>
                        </defs>
                        <rect width="100%" height="100%" fill="url(#grid)" class="grid-background"/>
                        <!-- Shapes will be drawn here -->
                    </svg>
                    <div class="canvas-info">
                        <span id="mousePosition">X: 0, Y: 0</span>
                        <span id="shapeCount">Shapes: 0</span>
                    </div>
                </div>
            </div>
        </main>

        <!-- Status Bar -->
        <footer class="status-bar">
            <div class="status-left">
                <span class="status-item" id="currentTool">Tool: Rectangle</span>
                <span class="status-item" id="drawingStatus">Ready</span>
            </div>
            <div class="status-right">
                <span class="status-item">Press 'H' for keyboard shortcuts</span>
            </div>
        </footer>

        <!-- Keyboard Shortcuts Modal -->
        <div id="shortcutsModal" class="modal hidden">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>Keyboard Shortcuts</h2>
                    <button class="modal-close" id="closeModal">&times;</button>
                </div>
                <div class="modal-body">
                    <div class="shortcut-grid">
                        <div class="shortcut-item">
                            <kbd>R</kbd>
                            <span>Rectangle</span>
                        </div>
                        <div class="shortcut-item">
                            <kbd>C</kbd>
                            <span>Circle</span>
                        </div>
                        <div class="shortcut-item">
                            <kbd>E</kbd>
                            <span>Ellipse</span>
                        </div>
                        <div class="shortcut-item">
                            <kbd>L</kbd>
                            <span>Line</span>
                        </div>
                        <div class="shortcut-item">
                            <kbd>T</kbd>
                            <span>Triangle</span>
                        </div>
                        <div class="shortcut-item">
                            <kbd>F</kbd>
                            <span>Freehand</span>
                        </div>
                        <div class="shortcut-item">
                            <kbd>Ctrl+Z</kbd>
                            <span>Undo</span>
                        </div>
                        <div class="shortcut-item">
                            <kbd>Delete</kbd>
                            <span>Clear Canvas</span>
                        </div>
                        <div class="shortcut-item">
                            <kbd>H</kbd>
                            <span>Toggle Help</span>
                        </div>
                        <div class="shortcut-item">
                            <kbd>Esc</kbd>
                            <span>Cancel Drawing</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
